package jetsennet.jsmp.nav.syn;

import jetsennet.jsmp.nav.cache.xmem.DataCacheOp;
import jetsennet.jsmp.nav.syn.db.DataSourceManager;
import jetsennet.orm.session.Session;
import jetsennet.orm.session.SqlSessionFactory;
import junit.framework.TestCase;

public class DataSynTest extends TestCase
{

	public void testDateSyn()
	{
		SqlSessionFactory factory = DataSourceManager.MEDIA_FACTORY;
		Session session = factory.openSession();
		session.deleteAll("NS_COLUMN");

		DataCacheOp.getInstance().deleteAll();

		String xml = null;
		DataSynEntity synData = null;

		// NS_CREATOR 测试
		//		xml =
		//			"<copPortalMsg><header><messageID>1406275949419</messageID><sendID>JCOP</sendID><recvID>Portal</recvID><opCode>COP_PORTAL_META_PUB</opCode><time>1406275949419</time><responseUrl>null</responseUrl><msgType>REQUEST</msgType></header><body><creatorTable opFlag=\"0\"><NS_CREATOR><ID>C3BA7922-98EF-40AC-8A6C-FB0F48E42C4E_721</ID><PGM_ID>721</PGM_ID><NAME>乐乐</NAME><PARALLEL_NAME>lele</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>23</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>3A1869CC-0180-4FAC-9375-4029BEDC7016_721</ID><PGM_ID>721</PGM_ID><NAME>欢欢</NAME><PARALLEL_NAME>huanhuan</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>45</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>AE1D00E7-5260-43E6-921D-10E374F54FB3_721</ID><PGM_ID>721</PGM_ID><NAME>迈克尔·贝</NAME><PARALLEL_NAME>maikeer</PARALLEL_NAME><ROLE_MODE>42</ROLE_MODE><DESCRIPTION>22</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>7C33C83C-B84C-4F22-8341-3B65C52FF9B3_721</ID><PGM_ID>721</PGM_ID><NAME>伊伦·克鲁格</NAME><PARALLEL_NAME>yilun</PARALLEL_NAME><ROLE_MODE>49</ROLE_MODE><DESCRIPTION>22</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR></creatorTable></body></copPortalMsg>";
		//		synData = DataSynXmlParse.parseXml(xml);
		//		DataHandleUtil.handleData(synData, xml);
		//
		//		xml =
		//			"<copPortalMsg><header><messageID>1406275949419</messageID><sendID>JCOP</sendID><recvID>Portal</recvID><opCode>COP_PORTAL_META_PUB</opCode><time>1406275949419</time><responseUrl>null</responseUrl><msgType>REQUEST</msgType></header><body><creatorTable opFlag=\"0\"><NS_CREATOR><ID>C3BA7922-98EF-40AC-8A6C-FB0F48E42C4F_721</ID><PGM_ID>721</PGM_ID><NAME>乐乐</NAME><PARALLEL_NAME>lele</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>23</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>3A1869CC-0180-4FAC-9375-4029BEDC7016_721</ID><PGM_ID>721</PGM_ID><NAME>欢欢</NAME><PARALLEL_NAME>huanhuan</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>45</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>AE1D00E7-5260-43E6-921D-10E374F54FB3_721</ID><PGM_ID>721</PGM_ID><NAME>迈克尔·贝</NAME><PARALLEL_NAME>maikeer</PARALLEL_NAME><ROLE_MODE>42</ROLE_MODE><DESCRIPTION>22</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>7C33C83C-B84C-4F22-8341-3B65C52FF9B3_721</ID><PGM_ID>721</PGM_ID><NAME>伊伦·克鲁格</NAME><PARALLEL_NAME>yilun</PARALLEL_NAME><ROLE_MODE>49</ROLE_MODE><DESCRIPTION>22</DESCRIPTION><UPDATE_TIME>1406275949419</UPDATE_TIME></NS_CREATOR></creatorTable></body></copPortalMsg>";
		//		synData = DataSynXmlParse.parseXml(xml);
		//		DataHandleUtil.handleData(synData, xml);
		//
		//		xml =
		//			"<copPortalMsg><header><messageID>1406280102089</messageID><sendID>JCOP</sendID><recvID>Portal</recvID><opCode>COP_PORTAL_META_PUB</opCode><time>1406280102089</time><responseUrl>null</responseUrl><msgType>REQUEST</msgType></header><body><creatorTable opFlag=\"1\"><NS_CREATOR><ID>C3BA7922-98EF-40AC-8A6C-FB0F48E42C4E_721</ID></NS_CREATOR><NS_CREATOR><ID>3A1869CC-0180-4FAC-9375-4029BEDC7016_721</ID></NS_CREATOR><NS_CREATOR><ID>AE1D00E7-5260-43E6-921D-10E374F54FB3_721</ID></NS_CREATOR><NS_CREATOR><ID>7C33C83C-B84C-4F22-8341-3B65C52FF9B3_721</ID></NS_CREATOR></creatorTable></body></copPortalMsg>";
		//		synData = DataSynXmlParse.parseXml(xml);
		//		DataHandleUtil.handleData(synData, xml);
		//
		//		xml =
		//			"<copPortalMsg><header><messageID>1406280102089</messageID><sendID>JCOP</sendID><recvID>Portal</recvID><opCode>COP_PORTAL_META_PUB</opCode><time>1406280102089</time><responseUrl>null</responseUrl><msgType>REQUEST</msgType></header><body><creatorTable opFlag=\"1\"><NS_CREATOR><ID>C3BA7922-98EF-40AC-8A6C-FB0F48E42C4F_721</ID></NS_CREATOR><NS_CREATOR><ID>3A1869CC-0180-4FAC-9375-4029BEDC7016_721</ID></NS_CREATOR><NS_CREATOR><ID>AE1D00E7-5260-43E6-921D-10E374F54FB3_721</ID></NS_CREATOR><NS_CREATOR><ID>7C33C83C-B84C-4F22-8341-3B65C52FF9B3_721</ID></NS_CREATOR></creatorTable></body></copPortalMsg>";
		//		synData = DataSynXmlParse.parseXml(xml);
		//		DataHandleUtil.handleData(synData, xml);

		//		xml =
		//			"<copPortalMsg><header><messageID>1406518130677</messageID><sendID>JCOP</sendID><recvID>Portal</recvID><opCode>COP_PORTAL_META_PUB</opCode><time>1406518130677</time><responseUrl>null</responseUrl><msgType>REQUEST</msgType></header><body><programTable opFlag=\"0\"><NS_PROGRAM><PGM_ID>740</PGM_ID><ASSET_ID>JETSENN2014400acb7a-8e05-4bb3-b2c6-3e2f1ce444ae</ASSET_ID><PGM_NAME>古剑奇谭</PGM_NAME><PGM_TYPE>10</PGM_TYPE><CONTENT_TYPE>10</CONTENT_TYPE><PGM_STATE>10</PGM_STATE><OBJ_TYPE>1</OBJ_TYPE><PGM_DURATION>0</PGM_DURATION><SEARCH_LETTER>G</SEARCH_LETTER><KEY_WORDS>null</KEY_WORDS><CONTENT_INFO>null</CONTENT_INFO><EPISODES_NUMBER>0</EPISODES_NUMBER><LICENSING_START>0</LICENSING_START><LICENSING_END>0</LICENSING_END><UPDATE_TIME>1406518130677</UPDATE_TIME><SEQ_NO>999999</SEQ_NO><REGION_CODE>null</REGION_CODE><CLICK_NUM>0</CLICK_NUM><CP_ID>31</CP_ID><CP_CODE>jetsen</CP_CODE><CP_NAME>捷成世纪</CP_NAME><COLUMN_ID>119</COLUMN_ID><COLUMN_ASSETID>JETSENN2014884c9de4-37ca-4581-a17c-59b8649a3a5bCOL</COLUMN_ASSETID><SITE_ID>31</SITE_ID></NS_PROGRAM></programTable><baseTable opFlag=\"0\"><NS_PGMBASE><ID>740</ID><PGM_ID>740</PGM_ID><PGM_ASSETID>JETSENN2014400acb7a-8e05-4bb3-b2c6-3e2f1ce444ae</PGM_ASSETID><ENGLISH_NAME>null</ENGLISH_NAME><ALIAS>null</ALIAS><COUNTRY>null</COUNTRY><WATCH_FOCUS>null</WATCH_FOCUS><PRODUCT_COMPANY>null</PRODUCT_COMPANY><RESTRICT_CATEGORY>null</RESTRICT_CATEGORY><AGENCY>null</AGENCY><DETAIL_INFO>古剑奇谭描述的是在古代时候的事情，古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情古剑奇谭描述的是在古代时候的事情。</DETAIL_INFO><RECOMMEND_STAR>null</RECOMMEND_STAR><LABEL>null</LABEL><LANGUAGE>null</LANGUAGE><AWARDS>null</AWARDS><ISSUE_YEAR>null</ISSUE_YEAR><ISSUE_COMPANY>null</ISSUE_COMPANY><CONTENT_PRIORITY>null</CONTENT_PRIORITY><RELEASE_DATE>null</RELEASE_DATE><BOX>0</BOX><DIALOGUE>null</DIALOGUE><CRITICS_LINK>null</CRITICS_LINK><BROADCAST_NUM>0</BROADCAST_NUM><IS_FINISHED>0</IS_FINISHED><SOURCE>null</SOURCE><LAUNCH_DATE>null</LAUNCH_DATE><PLAY_CYCLE>null</PLAY_CYCLE><UPDATE_TIME>1406518130677</UPDATE_TIME></NS_PGMBASE></baseTable><creatorTable opFlag=\"0\"><NS_CREATOR><ID>0DF16DCF-2750-418F-B140-47D110F1B03C_740</ID><PGM_ID>740</PGM_ID><NAME>张艺谋</NAME><PARALLEL_NAME>张艺谋</PARALLEL_NAME><ROLE_MODE>42</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406518130677</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>8195BF71-6C4F-435E-840F-2D30D93DF5BE_740</ID><PGM_ID>740</PGM_ID><NAME>杨幂</NAME><PARALLEL_NAME>杨幂</PARALLEL_NAME><ROLE_MODE>44</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406518130677</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>87F3F57D-8769-4991-8DB0-4FD4A8977BD0_740</ID><PGM_ID>740</PGM_ID><NAME>张翰</NAME><PARALLEL_NAME>张翰</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406518130677</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>ABCD58DA-BE85-48F9-B8D3-9663D2EFC7E7_740</ID><PGM_ID>740</PGM_ID><NAME>王刚</NAME><PARALLEL_NAME>王刚</PARALLEL_NAME><ROLE_MODE>48</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406518130677</UPDATE_TIME></NS_CREATOR></creatorTable><copyRightTable opFlag=\"0\"><NS_DESCAUTHORIZE><ID>2559A00D-B205-479D-951D-8C3DCBDD9632_740</ID><PGM_ID>740</PGM_ID><AUTHOR_USER>null</AUTHOR_USER><AUTHOR_USAGE>null</AUTHOR_USAGE><START_DATE>2014-08-01</START_DATE><AUTHOR_DEADLINE>2014-08-30</AUTHOR_DEADLINE><AUTHOR_GEOGRAAREA>null</AUTHOR_GEOGRAAREA><TIMES_USAGE>0</TIMES_USAGE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406518130677</UPDATE_TIME></NS_DESCAUTHORIZE></copyRightTable></body></copPortalMsg>";
		//		synData = DataSynXmlParse.parseXml(xml);
		//		DataHandleUtil.handleData(synData, xml);

		xml =
			"<copPortalMsg><header><messageID>1406537520732</messageID><sendID>JCOP</sendID><recvID>Portal</recvID><opCode>COP_PORTAL_META_PUB</opCode><time>1406537520732</time><responseUrl>null</responseUrl><msgType>REQUEST</msgType></header><body><programTable opFlag=\"0\"><NS_PROGRAM><PGM_ID>771</PGM_ID><ASSET_ID>JETSENN20144411c4ec-bfc4-47aa-ba95-b927a94effd6</ASSET_ID><PGM_NAME>生活大爆炸</PGM_NAME><PGM_TYPE>10</PGM_TYPE><CONTENT_TYPE>9</CONTENT_TYPE><PGM_STATE>10</PGM_STATE><OBJ_TYPE>1</OBJ_TYPE><PGM_DURATION>0</PGM_DURATION><SEARCH_LETTER>null</SEARCH_LETTER><KEY_WORDS>null</KEY_WORDS><CONTENT_INFO>null</CONTENT_INFO><EPISODES_NUMBER>0</EPISODES_NUMBER><LICENSING_START>0</LICENSING_START><LICENSING_END>0</LICENSING_END><UPDATE_TIME>1406537520732</UPDATE_TIME><SEQ_NO>999999</SEQ_NO><REGION_CODE>null</REGION_CODE><CLICK_NUM>0</CLICK_NUM><CP_ID>0</CP_ID><CP_CODE>null</CP_CODE><CP_NAME>null</CP_NAME><COLUMN_ID>121</COLUMN_ID><COLUMN_ASSETID>JETSENN2014e1ec1b83-bb06-43cf-818c-fd25c7a77418COL</COLUMN_ASSETID><SITE_ID>31</SITE_ID></NS_PROGRAM></programTable><baseTable opFlag=\"0\"><NS_PGMBASE><ID>771</ID><PGM_ID>771</PGM_ID><PGM_ASSETID>JETSENN20144411c4ec-bfc4-47aa-ba95-b927a94effd6</PGM_ASSETID><ENGLISH_NAME>null</ENGLISH_NAME><ALIAS>null</ALIAS><COUNTRY>null</COUNTRY><WATCH_FOCUS>null</WATCH_FOCUS><PRODUCT_COMPANY>null</PRODUCT_COMPANY><RESTRICT_CATEGORY>null</RESTRICT_CATEGORY><AGENCY>null</AGENCY><DETAIL_INFO>null</DETAIL_INFO><RECOMMEND_STAR>null</RECOMMEND_STAR><LABEL>null</LABEL><LANGUAGE>null</LANGUAGE><AWARDS>null</AWARDS><ISSUE_YEAR>null</ISSUE_YEAR><ISSUE_COMPANY>null</ISSUE_COMPANY><CONTENT_PRIORITY>null</CONTENT_PRIORITY><RELEASE_DATE>null</RELEASE_DATE><BOX>0</BOX><DIALOGUE>null</DIALOGUE><CRITICS_LINK>null</CRITICS_LINK><BROADCAST_NUM>0</BROADCAST_NUM><IS_FINISHED>0</IS_FINISHED><SOURCE>null</SOURCE><LAUNCH_DATE>null</LAUNCH_DATE><PLAY_CYCLE>null</PLAY_CYCLE><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_PGMBASE></baseTable><creatorTable opFlag=\"0\"><NS_CREATOR><ID>E8CE2723-4A98-425E-A990-0F149F3813DC_771</ID><PGM_ID>771</PGM_ID><NAME>111</NAME><PARALLEL_NAME>111</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>2461F390-75FE-4596-9451-5FA6DD8C4CF7_771</ID><PGM_ID>771</PGM_ID><NAME>222</NAME><PARALLEL_NAME>222</PARALLEL_NAME><ROLE_MODE>44</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>55D25EB4-17E9-4F8E-8A12-88623F199953_771</ID><PGM_ID>771</PGM_ID><NAME>333</NAME><PARALLEL_NAME>333</PARALLEL_NAME><ROLE_MODE>42</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>61317D4B-9B2F-4F65-BFDA-2378F6B74B59_771</ID><PGM_ID>771</PGM_ID><NAME>444</NAME><PARALLEL_NAME>444</PARALLEL_NAME><ROLE_MODE>48</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_CREATOR><NS_CREATOR><ID>1211D5F4-03A0-405E-AE95-9BE0712BB0E8_771</ID><PGM_ID>771</PGM_ID><NAME>555</NAME><PARALLEL_NAME>555</PARALLEL_NAME><ROLE_MODE>43</ROLE_MODE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_CREATOR></creatorTable><copyRightTable opFlag=\"0\"><NS_DESCAUTHORIZE><ID>F0B736FC-CE60-42AC-8246-4CEECD5D3F32_771</ID><PGM_ID>771</PGM_ID><AUTHOR_USER>null</AUTHOR_USER><AUTHOR_USAGE>null</AUTHOR_USAGE><START_DATE>2014-09-01</START_DATE><AUTHOR_DEADLINE>2014-09-30</AUTHOR_DEADLINE><AUTHOR_GEOGRAAREA>null</AUTHOR_GEOGRAAREA><TIMES_USAGE>0</TIMES_USAGE><DESCRIPTION>null</DESCRIPTION><UPDATE_TIME>1406537520732</UPDATE_TIME></NS_DESCAUTHORIZE></copyRightTable></body></copPortalMsg>";
		synData = DataSynXmlParse.parseXml(xml);
		DataHandleUtil.handleData(synData, xml);
	}

}
